@import 'tailwindcss';

@theme {
	/* Colors - Dark mode default with accent */
	--color-bg-primary: #0a0a0f;
	--color-bg-secondary: #12121a;
	--color-bg-card: #1a1a24;
	--color-bg-hover: #22222e;
	--color-text-primary: #f5f5f7;
	--color-text-secondary: #a1a1aa;
	--color-text-muted: #71717a;
	--color-accent: #6366f1;
	--color-accent-hover: #818cf8;
	--color-accent-muted: #4f46e5;
	--color-border: #27272a;
	--color-border-hover: #3f3f46;

	/* Typography */
	--font-sans: 'Inter', ui-sans-serif, system-ui, sans-serif;
	--font-mono: 'JetBrains Mono', ui-monospace, monospace;

	/* Spacing */
	--spacing-section: 6rem;

	/* Animations */
	--ease-out-expo: cubic-bezier(0.16, 1, 0.3, 1);
	--duration-fast: 150ms;
	--duration-normal: 250ms;
	--duration-slow: 400ms;
}

/* Base styles */
html {
	scroll-behavior: smooth;
}

body {
	font-family: var(--font-sans);
	background-color: var(--color-bg-primary);
	color: var(--color-text-primary);
	transition: background-color var(--duration-normal) var(--ease-out-expo),
		color var(--duration-normal) var(--ease-out-expo);
}

/* Light mode - override CSS variables */
.light {
	--color-bg-primary: #ffffff;
	--color-bg-secondary: #f9fafb;
	--color-bg-card: #ffffff;
	--color-bg-hover: #f3f4f6;
	--color-text-primary: #111827;
	--color-text-secondary: #4b5563;
	--color-text-muted: #6b7280;
	--color-border: #e5e7eb;
	--color-border-hover: #d1d5db;
}

.light body {
	background-color: var(--color-bg-primary);
	color: var(--color-text-primary);
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* Custom scrollbar */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
	background: var(--color-border);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-border-hover);
}

.light ::-webkit-scrollbar-track {
	background: var(--color-bg-secondary);
}

.light ::-webkit-scrollbar-thumb {
	background: var(--color-border);
}

.light ::-webkit-scrollbar-thumb:hover {
	background: var(--color-border-hover);
}

/* Glassmorphism utilities */
.glass {
	/* Solid fallback for browsers that don't support backdrop-filter */
	background: rgba(26, 26, 36, 0.95);
	border: 1px solid var(--color-border);
}

/* Apply blur only when supported */
@supports (backdrop-filter: blur(12px)) or (-webkit-backdrop-filter: blur(12px)) {
	.glass {
		background: rgba(26, 26, 36, 0.92);
		-webkit-backdrop-filter: blur(12px);
		backdrop-filter: blur(12px);
	}
}

.light .glass {
	background: rgba(255, 255, 255, 0.95);
	border: 1px solid var(--color-border);
}

@supports (backdrop-filter: blur(12px)) or (-webkit-backdrop-filter: blur(12px)) {
	.light .glass {
		background: rgba(255, 255, 255, 0.85);
		-webkit-backdrop-filter: blur(12px);
		backdrop-filter: blur(12px);
	}
}

/* Card glow effect */
.card-glow {
	position: relative;
}

.card-glow::before {
	content: '';
	position: absolute;
	inset: -1px;
	border-radius: inherit;
	background: linear-gradient(
		135deg,
		var(--color-accent) 0%,
		transparent 50%,
		var(--color-accent-muted) 100%
	);
	opacity: 0;
	z-index: -1;
	transition: opacity var(--duration-normal) var(--ease-out-expo);
}

.card-glow:hover::before {
	opacity: 0.5;
}

/* Focus styles */
:focus-visible {
	outline: 2px solid var(--color-accent);
	outline-offset: 2px;
}

/* Link styles - only for plain text links, not buttons */
a:not([class*="bg-"]):not([class*="border"]) {
	color: var(--color-accent);
	text-decoration: none;
	transition: color var(--duration-fast) var(--ease-out-expo);
}

a:not([class*="bg-"]):not([class*="border"]):hover {
	color: var(--color-accent-hover);
}

/* Code blocks */
pre {
	font-family: var(--font-mono);
	background: var(--color-bg-secondary);
	border: 1px solid var(--color-border);
	border-radius: 0.5rem;
	padding: 1rem;
	overflow-x: auto;
}

.light pre {
	background: var(--color-bg-secondary);
	border-color: var(--color-border);
}

code {
	font-family: var(--font-mono);
	font-size: 0.875em;
}

/* Prose styles for blog */
.prose {
	max-width: 65ch;
	color: var(--color-text-secondary);
}

.prose h1,
.prose h2,
.prose h3,
.prose h4 {
	color: var(--color-text-primary);
	font-weight: 600;
	margin-top: 2em;
	margin-bottom: 0.5em;
}

.prose p {
	margin-bottom: 1.25em;
	line-height: 1.75;
}

.prose ul,
.prose ol {
	margin-bottom: 1.25em;
	padding-left: 1.5em;
}

.prose li {
	margin-bottom: 0.5em;
}

.prose figure {
	margin: 2em 0;
}

.prose figure img {
	max-width: 100%;
	height: auto;
	border-radius: 0.5rem;
	border: 1px solid var(--color-border);
}

.prose figcaption {
	margin-top: 0.75em;
	text-align: center;
	font-size: 0.875em;
	color: var(--color-text-muted);
	font-style: italic;
}

.prose img {
	max-width: 100%;
	height: auto;
	border-radius: 0.5rem;
	margin: 1.5em 0;
}

/* Math (KaTeX) styles */
.prose .katex-display {
	margin: 1.5em 0;
	overflow-x: auto;
	overflow-y: hidden;
	padding: 0.5em 0;
}

.prose .katex {
	font-size: 1.1em;
}

/* Blockquotes */
.prose blockquote {
	border-left: 3px solid var(--color-accent);
	padding-left: 1em;
	margin: 1.5em 0;
	color: var(--color-text-muted);
	font-style: italic;
}

/* Tables */
.prose table {
	width: 100%;
	border-collapse: collapse;
	margin: 1.5em 0;
}

.prose th,
.prose td {
	padding: 0.75em 1em;
	border: 1px solid var(--color-border);
	text-align: left;
}

.prose th {
	background: var(--color-bg-secondary);
	font-weight: 600;
	color: var(--color-text-primary);
}

/* Horizontal rules */
.prose hr {
	border: none;
	border-top: 1px solid var(--color-border);
	margin: 2em 0;
}

.light .prose {
	color: var(--color-text-secondary);
}

.light .prose h1,
.light .prose h2,
.light .prose h3,
.light .prose h4 {
	color: var(--color-text-primary);
}

.light .prose th {
	background: var(--color-bg-secondary);
}
